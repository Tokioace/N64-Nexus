@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global reset for responsive design */
html {
  font-size: 16px;
  overflow-x: hidden;
  max-width: 100vw;
  position: relative;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  font-weight: 400;
  letter-spacing: 0.25px;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: linear-gradient(135deg, #0E0F1A 0%, #181A2C 100%);
  color: #FFFFFF;
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
  overflow-x: hidden;
  max-width: 100vw;
  position: relative;
}

/* RTL Layout Support */
body.rtl-layout {
  font-family: 'Inter', 'Noto Sans Arabic', 'Tahoma', 'Arial', sans-serif;
  direction: rtl;
  text-align: right;
}

/* RTL Typography */
.rtl-layout h1,
.rtl-layout h2,
.rtl-layout h3,
.rtl-layout h4,
.rtl-layout h5,
.rtl-layout h6 {
  text-align: right;
}

.rtl-layout p,
.rtl-layout div,
.rtl-layout span {
  text-align: right;
}

/* RTL Navigation */
.rtl-layout nav ul {
  direction: rtl;
}

.rtl-layout nav li {
  text-align: right;
}

/* RTL Form Elements */
.rtl-layout input,
.rtl-layout textarea,
.rtl-layout select {
  text-align: right;
  direction: rtl;
}

.rtl-layout input::placeholder,
.rtl-layout textarea::placeholder {
  text-align: right;
  direction: rtl;
}

/* RTL Button Alignment */
.rtl-layout .flex {
  flex-direction: row-reverse;
}

.rtl-layout .flex-row {
  flex-direction: row-reverse;
}

/* RTL Card Layouts */
.rtl-layout .card-content {
  text-align: right;
}

/* RTL Grid and List Views */
.rtl-layout .grid-item {
  text-align: right;
}

.rtl-layout .list-item {
  text-align: right;
}

/* RTL Margins and Padding Adjustments */
.rtl-layout .ml-auto {
  margin-left: 0;
  margin-right: auto;
}

.rtl-layout .mr-auto {
  margin-right: 0;
  margin-left: auto;
}

.rtl-layout .pl-4 {
  padding-left: 0;
  padding-right: 1rem;
}

.rtl-layout .pr-4 {
  padding-right: 0;
  padding-left: 1rem;
}

/* RTL Icons and Arrows */
.rtl-layout .arrow-right {
  transform: scaleX(-1);
}

.rtl-layout .arrow-left {
  transform: scaleX(-1);
}

/* RTL Chat and Messages */
.rtl-layout .chat-message {
  text-align: right;
  direction: rtl;
}

.rtl-layout .message-content {
  text-align: right;
}

/* RTL Forum Posts */
.rtl-layout .forum-post {
  text-align: right;
}

.rtl-layout .forum-title {
  text-align: right;
}

/* RTL Tables */
.rtl-layout table {
  direction: rtl;
}

.rtl-layout th,
.rtl-layout td {
  text-align: right;
}

/* RTL Modals and Popups */
.rtl-layout .modal-content {
  text-align: right;
}

/* RTL Dropdowns */
.rtl-layout .dropdown-menu {
  text-align: right;
  direction: rtl;
}

/* RTL Breadcrumbs */
.rtl-layout .breadcrumb {
  direction: rtl;
}

.rtl-layout .breadcrumb-item {
  text-align: right;
}

/* RTL Search */
.rtl-layout .search-input {
  text-align: right;
  direction: rtl;
}

/* RTL Tooltips */
.rtl-layout .tooltip {
  text-align: right;
  direction: rtl;
}

/* RTL Specific Component Overrides */
.rtl-layout .language-selector {
  text-align: right;
}

.rtl-layout .user-menu {
  text-align: right;
}

.rtl-layout .notification-item {
  text-align: right;
}

/* RTL Media Queries for Responsive Design */
@media (max-width: 768px) {
  .rtl-layout .mobile-nav {
    text-align: right;
  }
  
  .rtl-layout .mobile-menu-item {
    text-align: right;
  }
}

/* RTL Flexbox Utilities */
.rtl-layout .justify-start {
  justify-content: flex-end;
}

.rtl-layout .justify-end {
  justify-content: flex-start;
}

.rtl-layout .items-start {
  align-items: flex-end;
}

.rtl-layout .items-end {
  align-items: flex-start;
}

/* RTL Text Alignment Utilities */
.rtl-layout .text-left {
  text-align: right;
}

.rtl-layout .text-right {
  text-align: left;
}

/* RTL Float Utilities */
.rtl-layout .float-left {
  float: right;
}

.rtl-layout .float-right {
  float: left;
}

/* RTL Border Radius for Cards */
.rtl-layout .rounded-l-lg {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 0.5rem;
  border-bottom-right-radius: 0.5rem;
}

.rtl-layout .rounded-r-lg {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-top-left-radius: 0.5rem;
  border-bottom-left-radius: 0.5rem;
}

* {
  box-sizing: border-box;
}

*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent horizontal overflow on all elements */
* {
  max-width: 100%;
}

img, video, canvas, svg {
  max-width: 100%;
  height: auto;
}

/* Root container */
#root {
  overflow-x: hidden;
  max-width: 100vw;
  min-height: 100vh;
  min-height: 100dvh;
  position: relative;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

/* Battle64 Core Responsive Styles */
.container {
  width: 100%;
  max-width: 100vw;
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(0.75rem, 2vw, 2rem);
  padding-right: clamp(0.75rem, 2vw, 2rem);
  box-sizing: border-box;
}

@media (min-width: 1536px) {
  .container {
    max-width: 80rem;
  }
}

/* Responsive Container Variants with fluid sizing */
.container-sm {
  width: 100%;
  max-width: min(42rem, 100vw);
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(0.75rem, 2vw, 1.5rem);
  padding-right: clamp(0.75rem, 2vw, 1.5rem);
  box-sizing: border-box;
}

.container-md {
  width: 100%;
  max-width: min(56rem, 100vw);
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(0.75rem, 2vw, 2rem);
  padding-right: clamp(0.75rem, 2vw, 2rem);
  box-sizing: border-box;
}

.container-lg {
  width: 100%;
  max-width: min(72rem, 100vw);
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(0.75rem, 2vw, 2rem);
  padding-right: clamp(0.75rem, 2vw, 2rem);
  box-sizing: border-box;
}

.container-xl {
  width: 100%;
  max-width: min(80rem, 100vw);
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(0.75rem, 2vw, 2rem);
  padding-right: clamp(0.75rem, 2vw, 2rem);
  box-sizing: border-box;
}

/* Button Styles - N64 Theme */
.btn-primary {
  @apply inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 font-medium rounded-lg transition-colors duration-200 
         focus:outline-none focus:ring-2 focus:ring-accent-blue focus:ring-offset-2
         text-sm sm:text-base min-h-[44px] justify-center;
  background-color: #1E90FF;
  color: #FFFFFF;
}

.btn-primary:hover {
  background-color: #3399FF;
}

.btn-secondary {
  @apply inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 font-medium rounded-lg transition-colors duration-200 
         focus:outline-none focus:ring-2 focus:ring-border-light focus:ring-offset-2
         text-sm sm:text-base min-h-[44px] justify-center;
  background-color: #2E2F40;
  color: #FFFFFF;
}

.btn-secondary:hover {
  background-color: #3A3C55;
}

/* Responsive Button Sizes */
.btn-sm {
  @apply px-2 py-1 sm:px-3 sm:py-1.5 text-xs sm:text-sm min-h-[36px];
}

.btn-lg {
  @apply px-4 py-3 sm:px-6 sm:py-3 text-base sm:text-lg min-h-[52px];
}

/* N64-Style Retro Tiles - Fully responsive */
.n64-tile {
  @apply rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 
         backdrop-blur-sm;
  background: linear-gradient(135deg, 
    rgba(24, 26, 44, 0.8) 0%, 
    rgba(46, 47, 64, 0.6) 50%, 
    rgba(24, 26, 44, 0.8) 100%);
  border: 1px solid #2C2F4A;
  width: 100%;
  max-width: 100%;
  padding: clamp(1rem, 3vw, 1.5rem);
  margin-bottom: 1.5rem;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
}

/* Simple responsive tile for cleaner layouts */
.simple-tile {
  background: rgba(24, 26, 44, 0.8);
  border: 1px solid #2C2F4A;
  border-radius: 0.5rem;
  padding: clamp(1rem, 3vw, 1.5rem);
  margin-bottom: 1rem;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.n64-tile::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255, 255, 255, 0.03) 2px,
    rgba(255, 255, 255, 0.03) 4px
  );
  pointer-events: none;
}

.n64-tile:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  border-color: #66ccff;
}

.n64-tile-large {
  @apply min-h-[160px] sm:min-h-[200px] lg:min-h-[240px] p-3 sm:p-4 lg:p-6;
  animation: float 6s ease-in-out infinite;
}

.n64-tile-small {
  @apply min-h-[100px] sm:min-h-[120px] lg:min-h-[140px] p-2 sm:p-3 lg:p-4 cursor-pointer;
  animation: float 4s ease-in-out infinite;
}

.n64-tile-small:nth-child(even) {
  animation-delay: -2s;
}

.n64-tile-small:nth-child(3n) {
  animation-delay: -1s;
}

/* Floating Animation */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-4px);
  }
}

/* Enhanced hover effects for tiles */
.n64-tile-small:hover {
  animation-play-state: paused;
  transform: translateY(-6px) scale(1.02);
}

/* Enhanced retro glow effects with N64 colors */
.n64-tile:hover {
  box-shadow: 
    0 0 20px rgba(30, 144, 255, 0.3),
    0 10px 25px rgba(0, 0, 0, 0.3);
}

/* Event Component Specific Styles */
.event-card-header {
  @apply mb-4 pb-3 border-b border-slate-600/30;
}

.event-status-live {
  @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(34, 197, 94, 0.15);
  color: #4ade80;
  border: 1px solid rgba(34, 197, 94, 0.3);
}

.event-status-upcoming {
  @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.event-participants-text {
  color: #cbd5e1 !important;
  font-weight: 500;
}

.event-game-mode-text {
  color: #cbd5e1 !important;
  font-weight: 500;
}

.event-button-group {
  @apply flex flex-col gap-2 w-full sm:w-auto;
  min-width: 120px;
}

.event-button-group button {
  @apply w-full justify-center;
  min-height: 44px;
  font-size: 14px;
}

/* Leaderboard Improvements */
.leaderboard-entry {
  @apply p-4 rounded-lg border transition-all duration-200;
  background: rgba(30, 41, 59, 0.4);
  border-color: rgba(71, 85, 105, 0.5);
}

.leaderboard-entry:hover {
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(71, 85, 105, 0.7);
}

/* CSS Custom Properties for Leaderboard */
:root {
  --leaderboard-time-font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', 'Courier New', monospace;
  --leaderboard-time-font-weight: 600;
  --leaderboard-time-line-height: 1.2;
  --leaderboard-time-compact-line-height: 1.1;
  
  /* Font sizes */
  --leaderboard-time-font-size-base: 18px;
  --leaderboard-time-font-size-mobile: 16px;
  --leaderboard-time-font-size-small: 15px;
  --leaderboard-time-font-size-tiny: 14px;
  
  --leaderboard-time-compact-font-size-base: 14px;
  --leaderboard-time-compact-font-size-small: 13px;
  --leaderboard-time-compact-font-size-tiny: 12px;
  
  /* Spacing */
  --leaderboard-time-letter-spacing-base: 0.5px;
  --leaderboard-time-letter-spacing-mobile: 0.3px;
  --leaderboard-time-letter-spacing-small: 0.2px;
  --leaderboard-time-letter-spacing-tiny: 0.1px;
  --leaderboard-time-letter-spacing-none: 0px;
  
  /* Container widths */
  --leaderboard-time-container-width-base: 120px;
  --leaderboard-time-container-width-mobile: 100px;
  --leaderboard-time-container-width-small: 90px;
  --leaderboard-time-container-width-tiny: 80px;
  
  --leaderboard-time-compact-width-base: 80px;
  --leaderboard-time-compact-width-mobile: 70px;
  --leaderboard-time-compact-width-small: 65px;
  --leaderboard-time-compact-width-tiny: 60px;
  
  /* Username widths */
  --leaderboard-username-width-base: 120px;
  --leaderboard-username-width-mobile: 100px;
  --leaderboard-username-width-small: 80px;
  --leaderboard-username-width-tiny: 70px;
}

/* Leaderboard Time Display - Responsive & Overflow-Safe */
.leaderboard-time {
  font-family: var(--leaderboard-time-font-family);
  font-weight: var(--leaderboard-time-font-weight);
  font-size: var(--leaderboard-time-font-size-base);
  letter-spacing: var(--leaderboard-time-letter-spacing-base);
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  min-width: 0;
  flex-shrink: 0;
  display: inline-block;
  line-height: var(--leaderboard-time-line-height);
  font-display: swap; /* Improve font loading performance */
  contain: layout style; /* CSS containment for performance */
}

/* Responsive time display for different screen sizes */
@media (max-width: 480px) {
  .leaderboard-time {
    font-size: var(--leaderboard-time-font-size-mobile);
    letter-spacing: var(--leaderboard-time-letter-spacing-mobile);
  }
}

@media (max-width: 390px) {
  .leaderboard-time {
    font-size: var(--leaderboard-time-font-size-small);
    letter-spacing: var(--leaderboard-time-letter-spacing-small);
  }
}

@media (max-width: 320px) {
  .leaderboard-time {
    font-size: var(--leaderboard-time-font-size-tiny);
    letter-spacing: var(--leaderboard-time-letter-spacing-tiny);
  }
}

/* Compact time display for very tight spaces */
.leaderboard-time-compact {
  font-family: var(--leaderboard-time-font-family);
  font-weight: var(--leaderboard-time-font-weight);
  font-size: var(--leaderboard-time-compact-font-size-base);
  letter-spacing: var(--leaderboard-time-letter-spacing-small);
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  flex-shrink: 0;
  display: inline-block;
  line-height: var(--leaderboard-time-compact-line-height);
  min-width: var(--leaderboard-time-compact-width-base);
  font-display: swap; /* Improve font loading performance */
  contain: layout style; /* CSS containment for performance */
}

@media (max-width: 390px) {
  .leaderboard-time-compact {
    font-size: var(--leaderboard-time-compact-font-size-small);
    letter-spacing: var(--leaderboard-time-letter-spacing-tiny);
    min-width: var(--leaderboard-time-compact-width-small);
  }
}

@media (max-width: 320px) {
  .leaderboard-time-compact {
    font-size: var(--leaderboard-time-compact-font-size-tiny);
    letter-spacing: var(--leaderboard-time-letter-spacing-none);
    min-width: var(--leaderboard-time-compact-width-tiny);
  }
}

.verification-badge {
  @apply w-4 h-4 text-green-400;
  filter: drop-shadow(0 0 2px rgba(34, 197, 94, 0.5));
}

/* Mobile Responsive Improvements */
@media (max-width: 320px) {
  .event-tile, .n64-tile, .simple-tile {
    @apply p-3;
    min-height: auto;
    margin-bottom: 1rem;
    border-radius: 0.5rem;
  }
  
  .event-button-group button {
    font-size: 12px;
    min-height: 40px;
    padding: 8px 12px;
  }
  
  .event-tile-content {
    font-size: 14px;
  }
  
  .event-icon {
    width: 18px !important;
    height: 18px !important;
  }
}

/* Prevent border overlapping in horizontal mode */
@media (orientation: landscape) and (max-height: 500px) {
  .n64-tile, .simple-tile {
    margin-bottom: 0.75rem;
    padding: 0.75rem;
  }
  
  .n64-tile-large {
    min-height: 120px;
    padding: 0.75rem;
  }
}

/* Enhanced responsive styles for leaderboard entries */
.leaderboard-entry {
  @apply p-4 rounded-lg border border-slate-600 transition-all;
  background: rgba(30, 41, 59, 0.4);
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 80px;
  gap: 12px;
}

/* Responsive leaderboard entry adjustments */
@media (max-width: 480px) {
  .leaderboard-entry {
    padding: 12px;
    min-height: 70px;
    gap: 8px;
    flex-wrap: nowrap;
  }
}

@media (max-width: 390px) {
  .leaderboard-entry {
    padding: 10px;
    min-height: 65px;
    gap: 6px;
  }
}

@media (max-width: 320px) {
  .leaderboard-entry {
    padding: 8px;
    min-height: 60px;
    gap: 4px;
  }
}

/* Username and time container responsive styles */
.leaderboard-user-info {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

/* Edge case handling for long usernames and maximum time lengths */
.leaderboard-username {
  font-weight: 600;
  color: rgb(241 245 249);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: var(--leaderboard-username-width-base);
  flex-shrink: 1;
}

/* Ensure time containers can accommodate maximum time format (9:59.999) */
.leaderboard-time-container {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
  min-width: var(--leaderboard-time-container-width-base);
}

/* Responsive username and time adjustments */
@media (max-width: 480px) {
  .leaderboard-user-info {
    gap: 8px;
  }
  
  .leaderboard-username {
    max-width: var(--leaderboard-username-width-mobile);
    font-size: 15px;
  }
  
  .leaderboard-time-container {
    min-width: var(--leaderboard-time-container-width-mobile);
    gap: 6px;
  }
}

@media (max-width: 390px) {
  .leaderboard-user-info {
    gap: 6px;
  }
  
  .leaderboard-username {
    max-width: var(--leaderboard-username-width-small);
    font-size: 14px;
  }
  
  .leaderboard-time-container {
    min-width: var(--leaderboard-time-container-width-small);
    gap: 4px;
  }
}

@media (max-width: 320px) {
  .leaderboard-user-info {
    gap: 4px;
  }
  
  .leaderboard-username {
    max-width: var(--leaderboard-username-width-tiny);
    font-size: 13px;
  }
  
  .leaderboard-time-container {
    min-width: var(--leaderboard-time-container-width-tiny);
    gap: 3px;
  }
}

/* Special handling for very long usernames (fallback) */
.leaderboard-username[title] {
  cursor: help;
}

/* Ensure consistent spacing in all leaderboard contexts */
.event-tile .leaderboard-time,
.simple-tile .leaderboard-time {
  margin: 0;
  padding: 0;
}

/* Prevent layout shift when switching between different time lengths */
.leaderboard-time,
.leaderboard-time-compact {
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
}

@media (max-width: 640px) {
  .leaderboard-entry {
    @apply p-3;
  }
  
  .leaderboard-entry .flex {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }
  
  .leaderboard-entry .flex:first-child {
    flex-direction: row;
    align-items: center;
  }
}

/* Prevent horizontal overflow */
.event-tile,
.leaderboard-entry,
.simple-tile {
  overflow-x: hidden;
  word-wrap: break-word;
}

/* Icon size consistency */
.event-icon {
  width: 20px !important;
  height: 20px !important;
  flex-shrink: 0;
}

/* News Card Event Winner Style */
.news-event-winner-label {
  @apply absolute top-2 right-2 px-2 py-1 rounded text-xs font-bold;
  background: rgba(251, 191, 36, 0.9);
  color: #1f2937;
  border: 1px solid rgba(251, 191, 36, 0.5);
}

/* Text utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Enhanced spacing for news cards */
.swipeable-card {
  margin-bottom: 1rem;
}

.swipeable-card + .swipeable-card {
  margin-top: 1.5rem;
}

/* Legacy simple tile styles for compatibility - Updated with N64 colors */
.simple-tile {
  @apply rounded-lg p-3 sm:p-4 lg:p-5 xl:p-6 shadow-lg w-full;
  background: linear-gradient(135deg, #1A1C30 0%, #2F3142 100%);
  border: 1px solid #2C2F4A;
  box-sizing: border-box;
}

/* Enhanced Event Tile Styles for Better Readability */
.event-tile {
  @apply rounded-lg p-4 sm:p-5 lg:p-6 shadow-lg w-full;
  background: linear-gradient(135deg, #1C1E32 0%, #313245 100%);
  border: 1px solid #2C2F4A;
  box-sizing: border-box;
  min-height: 200px;
}

.event-tile-content {
  @apply space-y-4;
  font-size: 16px;
  line-height: 1.6;
}

.event-tile-separator {
  @apply border-t border-slate-600/40 my-4;
}

/* Content-type specific card styles */
.card-live-event {
  background: #181A2C;
  border-left: 4px solid #00C47C;
  border-radius: 0.5rem;
}

.card-event-winner {
  background: #1E1F2F;
  border-left: 4px solid #FFD700;
  border-radius: 0.5rem;
}

.card-news-post {
  background: #181A2C;
  border-left: 4px solid #8A2BE2;
  border-radius: 0.5rem;
}

.card-community-update {
  background: #1A242F;
  border-left: 4px solid #1E90FF;
  border-radius: 0.5rem;
}

/* Card hover states */
.card-live-event:hover,
.card-event-winner:hover,
.card-news-post:hover,
.card-community-update:hover {
  background: #22243B;
  border-color: #66ccff;
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.simple-tile-header {
  @apply mb-2 sm:mb-3 pb-2;
  border-bottom: 1px solid #2C2F4A;
}

.simple-tile-content {
  color: #FFFFFF;
}

.simple-tile-large {
  @apply min-h-[140px] sm:min-h-[160px] lg:min-h-[180px] xl:min-h-[200px] p-3 sm:p-4 lg:p-6;
}

.simple-tile-medium {
  @apply min-h-[100px] sm:min-h-[120px] lg:min-h-[140px] xl:min-h-[150px] p-2 sm:p-3 lg:p-4;
}

.simple-tile-small {
  @apply min-h-[70px] sm:min-h-[80px] lg:min-h-[90px] xl:min-h-[100px] p-2 sm:p-3 text-center flex flex-col items-center justify-center;
}

.simple-tile-icon {
  @apply mb-1 sm:mb-2 flex items-center justify-center;
}

.simple-tile-label {
  @apply text-center text-xs sm:text-sm lg:text-base;
}

/* Z-index utilities */
.z-45 {
  z-index: 45;
}

/* Extra small screen utility */
@media (min-width: 475px) {
  .xs\:block {
    display: block;
  }
}

/* Very small screen adjustments */
@media (max-width: 360px) {
  /* Hide ranking bar on very small screens to prevent overlaps */
  .ranking-bar-container {
    display: none !important;
  }
}

/* Navigation Styles - Fully Responsive */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  height: 100dvh;
  width: clamp(280px, 25vw, 320px);
  transform: translateX(-100%);
  transition: transform 0.3s ease-in-out;
  z-index: 40;
  background: #0E0F1A;
  border-right: 1px solid #2C2F4A;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  max-width: 90vw;
}

@media (min-width: 1024px) {
  .sidebar {
    transform: translateX(0);
    width: 16rem; /* 256px */
  }
}

.sidebar.open {
  @apply translate-x-0;
}

.sidebar ul {
  @apply list-none p-0 m-0;
}

.sidebar li {
  @apply block;
}

.sidebar li a,
.nav-link {
  display: flex;
  align-items: center;
  width: 100%;
  min-height: 44px;
  padding: clamp(0.75rem, 2vw, 1rem) clamp(0.75rem, 2vw, 1.5rem);
  transition: all 0.2s ease;
  border-left: 4px solid transparent;
  text-decoration: none;
  color: #CCCCCC;
  font-size: clamp(0.875rem, 2vw, 1rem);
  box-sizing: border-box;
}

.sidebar li a:hover,
.nav-link:hover {
  background-color: #22243B;
  color: #1E90FF;
}

.sidebar li.active a,
.sidebar li.active .nav-link {
  background-color: #22243B;
  color: #1E90FF;
  border-left-color: #1E90FF;
}

/* Scrollable container improvements */
.scrollable-container {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  touch-action: pan-y;
  scroll-behavior: smooth;
}

/* Improve mobile touch scrolling */
@media (max-width: 1024px) {
  .sidebar {
    overscroll-behavior-y: contain;
  }
  
  .sidebar .scrollable-container {
    overscroll-behavior-y: contain;
    -webkit-overflow-scrolling: touch;
  }
}

/* Main Content - N64 Theme */
.main-content {
  @apply min-h-screen px-0 sm:px-1 lg:px-2;
  background: linear-gradient(135deg, #0E0F1A 0%, #181A2C 50%, #0E0F1A 100%);
  width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

.main-content.sidebar-open {
  @apply lg:ml-64;
}

/* Page Header - N64 Theme */
.page-header {
  @apply px-3 sm:px-4 lg:px-6 py-3 sm:py-4;
  background: #181A2C;
  border-bottom: 1px solid #2C2F4A;
  width: 100%;
  box-sizing: border-box;
}

.page-title {
  @apply text-lg sm:text-xl lg:text-2xl xl:text-3xl font-bold;
  color: #FFFFFF;
}

/* Cards - N64 Theme */
.card {
  @apply rounded-lg shadow-lg overflow-hidden w-full;
  background: #181A2C;
  border: 1px solid #2C2F4A;
  box-sizing: border-box;
}

.card-header {
  @apply px-3 sm:px-4 lg:px-6 py-3 sm:py-4;
  background: #2E2F40;
  border-bottom: 1px solid #2C2F4A;
}

.card-body {
  @apply p-3 sm:p-4 lg:p-6;
}

/* Responsive Grid Layouts */
.grid-responsive {
  @apply grid gap-3 sm:gap-4 lg:gap-6;
  width: 100%;
}

.grid-1-2-3 {
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
}

.grid-1-2-4 {
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
}

.grid-1-3 {
  @apply grid-cols-1 lg:grid-cols-3;
}

.grid-2-4 {
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
}

/* Auto-fit grids for maximum responsiveness */
.grid-auto-fit {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  width: 100%;
}

.grid-auto-fit-sm {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
  width: 100%;
}

.grid-auto-fit-lg {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  width: 100%;
}

/* 🎮 Battle64 Typography System - Retro + Modern */

/* Heading Typography - Retro Style with Press Start 2P */
.typography-h1 {
  @apply font-heading text-fluid-h1 font-heading text-left;
  color: #FFFFFF;
}

.typography-h2 {
  @apply font-heading text-fluid-h2 font-heading text-left;
  color: #FFFFFF;
}

.typography-h3 {
  @apply font-heading text-fluid-h3 font-heading text-left;
  color: #FFFFFF;
}

/* Special heading with highlight color */
.typography-h1-highlight {
  @apply font-heading text-fluid-h1 font-heading text-left;
  color: #FFD700;
}

.typography-h2-highlight {
  @apply font-heading text-fluid-h2 font-heading text-left;
  color: #FFD700;
}

/* Body Typography - Modern & Readable with Inter */
.typography-body {
  @apply font-body text-fluid-body font-body text-left;
  color: #FFFFFF;
}

.typography-body-secondary {
  @apply font-body text-fluid-body font-body text-left;
  color: #CCCCCC;
}

.typography-body-muted {
  @apply font-body text-fluid-body font-body text-left;
  color: #888888;
}

.typography-small {
  @apply font-body text-fluid-small font-body text-left;
  color: #CCCCCC;
}

/* Link Typography */
.typography-link {
  @apply font-body text-fluid-body font-body;
  color: #66ccff;
  text-decoration: none;
  transition: color 0.2s ease;
}

.typography-link:hover {
  color: #88ddff;
  text-decoration: underline;
}

/* Centered Typography Variants */
.typography-h1-center {
  @apply typography-h1 text-center;
}

.typography-h2-center {
  @apply typography-h2 text-center;
}

.typography-h3-center {
  @apply typography-h3 text-center;
}

.typography-body-center {
  @apply typography-body text-center;
}

/* Event Card Specific Typography */
.typography-event-title {
  @apply font-heading text-fluid-h3 font-subheading text-left;
  color: #FFFFFF;
}

.typography-event-description {
  @apply font-body text-fluid-body font-body text-left;
  color: #CCCCCC;
}

/* Mobile Optimizations - N64 Theme */
@media (max-width: 768px) {
  .typography-h1,
  .typography-h1-highlight,
  .typography-h1-center {
    font-size: clamp(1.4rem, 4vw, 1.8rem);
    line-height: 1.4;
  }
  
  .typography-h2,
  .typography-h2-highlight,
  .typography-h2-center {
    font-size: clamp(1.2rem, 3.5vw, 1.4rem);
    line-height: 1.4;
  }
  
  .typography-h3,
  .typography-h3-center,
  .typography-event-title {
    font-size: clamp(1rem, 3vw, 1.2rem);
    line-height: 1.4;
  }
  
  .typography-body,
  .typography-body-secondary,
  .typography-body-muted,
  .typography-body-center,
  .typography-link,
  .typography-event-description {
    padding: 0 1rem;
    font-size: clamp(0.9rem, 2.5vw, 0.95rem);
  }
  
  /* Mobile card adjustments */
  .card-live-event,
  .card-event-winner,
  .card-news-post,
  .card-community-update {
    background: color-mix(in srgb, #181A2C 95%, #000000 5%);
  }
  
  .btn-primary {
    background-color: #2979FF;
  }
  
  .simple-tile-label {
    font-size: 1.1rem;
  }
}

/* Fluid Responsive Text Sizes using clamp() */
.text-responsive-xs {
  font-size: clamp(0.75rem, 1.5vw, 0.875rem);
  line-height: clamp(1rem, 2vw, 1.25rem);
}

.text-responsive-sm {
  font-size: clamp(0.875rem, 2vw, 1rem);
  line-height: clamp(1.25rem, 2.5vw, 1.5rem);
}

.text-responsive-base {
  font-size: clamp(1rem, 2.5vw, 1.125rem);
  line-height: clamp(1.5rem, 3vw, 1.75rem);
}

.text-responsive-lg {
  font-size: clamp(1.125rem, 3vw, 1.5rem);
  line-height: clamp(1.75rem, 3.5vw, 2rem);
}

.text-responsive-xl {
  font-size: clamp(1.25rem, 3.5vw, 1.875rem);
  line-height: clamp(1.75rem, 4vw, 2.25rem);
}

.text-responsive-2xl {
  font-size: clamp(1.5rem, 4vw, 2.25rem);
  line-height: clamp(2rem, 4.5vw, 2.5rem);
}

/* Fluid Responsive Spacing using clamp() */
.space-responsive > * + * {
  margin-top: clamp(1rem, 3vw, 2rem);
}

.gap-responsive {
  gap: clamp(0.75rem, 2vw, 1.5rem);
}

.p-responsive {
  padding: clamp(0.75rem, 2vw, 1.5rem);
}

.px-responsive {
  padding-left: clamp(0.75rem, 2vw, 1.5rem);
  padding-right: clamp(0.75rem, 2vw, 1.5rem);
}

.py-responsive {
  padding-top: clamp(0.75rem, 2vw, 1.5rem);
  padding-bottom: clamp(0.75rem, 2vw, 1.5rem);
}

.m-responsive {
  margin: clamp(0.75rem, 2vw, 1.5rem);
}

.mb-responsive {
  margin-bottom: clamp(0.75rem, 2vw, 1.5rem);
}

.mt-responsive {
  margin-top: clamp(0.75rem, 2vw, 1.5rem);
}

/* Mobile-First Responsive Utilities */
.mobile-stack {
  @apply flex flex-col sm:flex-row;
}

.mobile-center {
  @apply text-center sm:text-left;
}

.mobile-full {
  @apply w-full sm:w-auto;
}

.mobile-hidden {
  @apply hidden sm:block;
}

.mobile-only {
  @apply block sm:hidden;
}

/* Tablet Specific */
.tablet-hidden {
  @apply hidden md:block;
}

.tablet-only {
  @apply hidden sm:block lg:hidden;
}

/* Desktop Specific */
.desktop-hidden {
  @apply hidden lg:block;
}

.desktop-only {
  @apply hidden lg:block;
}

/* Responsive Image and Media */
.responsive-img {
  @apply w-full h-auto max-w-full;
}

.responsive-video {
  @apply w-full h-auto max-w-full;
}

/* Responsive Tables */
.table-responsive {
  @apply w-full overflow-x-auto;
}

.table-responsive table {
  @apply min-w-full;
}

/* Responsive Forms */
.form-responsive {
  @apply w-full max-w-full;
}

.form-responsive input,
.form-responsive select,
.form-responsive textarea {
  @apply w-full max-w-full;
  box-sizing: border-box;
}

/* Forum-specific styles - N64 Theme */
.forum-post {
  @apply rounded-lg p-3 sm:p-4 mb-4 w-full;
  background: #181A2C;
  border: 1px solid #2C2F4A;
  box-sizing: border-box;
}

.forum-post-header {
  @apply flex flex-col sm:flex-row sm:items-center justify-between mb-3 pb-2 gap-2 sm:gap-0;
  border-bottom: 1px solid #2C2F4A;
}

.forum-post-content {
  @apply leading-relaxed text-sm sm:text-base;
  color: #FFFFFF;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.forum-post-content p {
  @apply mb-3 last:mb-0;
}

.forum-post-meta {
  @apply text-xs sm:text-sm flex flex-wrap items-center gap-2;
  color: #888888;
}

.forum-thread-title {
  @apply text-base sm:text-lg lg:text-xl font-bold transition-colors cursor-pointer;
  color: #FFFFFF;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.forum-thread-title:hover {
  color: #1E90FF;
}

.forum-category-icon {
  @apply w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 flex-shrink-0;
}

.forum-stats-tile {
  @apply rounded-lg p-3 sm:p-4 text-center w-full;
  background: #181A2C;
  border: 1px solid #2C2F4A;
  box-sizing: border-box;
}

.forum-stats-number {
  @apply text-lg sm:text-xl lg:text-2xl font-bold;
  color: #1E90FF;
}

.forum-stats-label {
  @apply text-xs sm:text-sm mt-1;
  color: #888888;
}

/* Forum user badges */
.forum-user-badge {
  @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
}

.forum-user-badge.newbie {
  @apply bg-gray-700 text-gray-200;
}

.forum-user-badge.collector {
  @apply bg-green-700 text-green-200;
}

.forum-user-badge.veteran {
  @apply bg-blue-700 text-blue-200;
}

.forum-user-badge.expert {
  @apply bg-purple-700 text-purple-200;
}

.forum-user-badge.master {
  @apply bg-yellow-700 text-yellow-200;
}

/* Responsive Flexbox Utilities */
.flex-responsive {
  @apply flex flex-col sm:flex-row;
}

.flex-responsive-reverse {
  @apply flex flex-col-reverse sm:flex-row;
}

.items-responsive-center {
  @apply items-start sm:items-center;
}

.justify-responsive-between {
  @apply justify-start sm:justify-between;
}

/* Responsive Width Utilities */
.w-responsive-full {
  @apply w-full sm:w-auto;
}

.w-responsive-auto {
  @apply w-auto sm:w-full;
}

/* Mobile Optimizations */
@media (max-width: 640px) {
  .container {
    @apply px-2;
  }
  
  .simple-tile {
    @apply p-2;
  }
  
  .btn-primary, .btn-secondary {
    @apply px-3 py-2 text-sm min-h-[44px];
  }
  
  .page-title {
    @apply text-base;
  }
  
  /* Stack elements vertically on mobile */
  .mobile-stack > * {
    @apply w-full mb-2 last:mb-0;
  }
  
  /* Reduce padding on mobile */
  .card-header, .card-body {
    @apply px-3 py-3;
  }
  
  /* Smaller text on mobile for better fit */
  .forum-thread-title {
    @apply text-sm;
  }
  
  .forum-stats-number {
    @apply text-base;
  }
  
  /* Ensure no horizontal overflow */
  * {
    max-width: 100vw;
  }
  
  /* Fix potential overflow issues */
  .grid-responsive {
    @apply gap-2;
  }
}

/* Tablet Optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
  .container {
    @apply px-4;
  }
  
  .simple-tile {
    @apply p-4;
  }
  
  .grid-1-2-3 {
    @apply grid-cols-2;
  }
  
  .grid-1-2-4 {
    @apply grid-cols-3;
  }
}

/* Large Screen Optimizations */
@media (min-width: 1025px) {
  .container {
    @apply px-6;
  }
  
  .simple-tile {
    @apply p-6;
  }
  
  /* Full grid layouts on large screens */
  .grid-1-2-3 {
    @apply grid-cols-3;
  }
  
  .grid-1-2-4 {
    @apply grid-cols-4;
  }
}

/* Extra Large Screen Optimizations */
@media (min-width: 1536px) {
  .container {
    @apply px-8;
  }
  
  .grid-1-2-4 {
    @apply grid-cols-4;
  }
}

/* Touch and Accessibility Improvements */
@media (hover: none) and (pointer: coarse) {
  /* Touch device optimizations */
  .btn-primary, .btn-secondary {
    @apply py-3 px-4 min-h-[48px]; /* Larger touch targets */
  }
  
  .sidebar li a {
    @apply py-4 min-h-[48px]; /* Larger touch targets for navigation */
  }
  
  .n64-tile:hover, .simple-tile:hover {
    transform: none; /* Disable hover effects on touch devices */
  }
}

/* High DPI Display Optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .n64-tile::before {
    background-size: 2px 2px;
  }
}

/* Dark mode improvements (already dark, but ensuring consistency) */
@media (prefers-color-scheme: dark) {
  body {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .n64-tile, .n64-tile-small, .n64-tile-large {
    animation: none;
  }
  
  .transition-all, .transition-colors, .transition-transform {
    transition: none;
  }
}

/* Print styles */
@media print {
  .sidebar, .mobile-menu-button {
    display: none !important;
  }
  
  .main-content {
    margin-left: 0 !important;
    padding: 0 !important;
  }
  
  .container {
    max-width: none !important;
    padding: 0 !important;
  }
}

/* Enhanced responsive utilities for mobile-first design */
.responsive-overflow-hidden {
  overflow-x: hidden;
  overflow-y: auto;
  max-width: 100vw;
  position: relative;
}

.responsive-word-break {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

.responsive-max-width {
  max-width: 100%;
  width: 100%;
  min-width: 0; /* Allow flex items to shrink */
}

/* Safe area padding for mobile devices */
.safe-area-padding {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Fluid grid system */
.responsive-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
  gap: clamp(1rem, 3vw, 2rem);
  width: 100%;
  max-width: 100%;
}

.responsive-grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
  gap: clamp(0.75rem, 2.5vw, 1.5rem);
  width: 100%;
  max-width: 100%;
}

/* Flex utilities for responsive layouts */
.responsive-flex {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(0.75rem, 2vw, 1.5rem);
  width: 100%;
  max-width: 100%;
}

.responsive-flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: clamp(0.5rem, 1.5vw, 1rem);
  width: 100%;
  max-width: 100%;
}

/* Responsive Swipeable Card Styles - N64 Theme */
.swipeable-card {
  @apply rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl backdrop-blur-sm cursor-pointer;
  background: rgba(24, 26, 44, 0.8);
  border: 1px solid rgba(44, 47, 74, 0.8);
  width: 100%;
  max-width: min(400px, 90vw);
  height: auto;
  min-height: clamp(320px, 38vh, 420px);
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  aspect-ratio: 16/10.5;
}

/* Responsive card container */
.swipeable-cards-container {
  display: flex;
  gap: clamp(0.75rem, 2vw, 1.5rem);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding: clamp(0.5rem, 1vw, 1rem);
  width: 100%;
  max-width: 100vw;
  scrollbar-width: thin;
}

.swipeable-cards-container::-webkit-scrollbar {
  height: 4px;
}

.swipeable-cards-container::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 2px;
}

.swipeable-cards-container::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
}

.swipeable-card {
  scroll-snap-align: start;
  flex-shrink: 0;
}

/* Additional responsive utilities */
.mobile-safe-area {
  padding-left: max(env(safe-area-inset-left), 1rem);
  padding-right: max(env(safe-area-inset-right), 1rem);
  padding-top: max(env(safe-area-inset-top), 1rem);
  padding-bottom: max(env(safe-area-inset-bottom), 1rem);
}

/* Prevent zoom on input focus (iOS) */
input[type="text"],
input[type="email"],
input[type="password"],
textarea,
select {
  font-size: 16px;
}

/* Smooth scrolling for better UX */
html {
  scroll-behavior: smooth;
}

/* Ensure touch targets are at least 44px */
button, 
a, 
input[type="button"], 
input[type="submit"] {
  min-height: 44px;
  min-width: 44px;
}

/* Better focus visibility */
*:focus-visible {
  outline: 2px solid #1E90FF;
  outline-offset: 2px;
}

/* Hide scrollbars but keep functionality */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.swipeable-card-header {
  @apply p-3 flex-shrink-0;
  border-bottom: 1px solid rgba(44, 47, 74, 0.5);
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 50px;
}

.swipeable-card-content {
  @apply flex-1 relative;
  min-height: 160px;
  overflow: visible;
  display: flex;
  flex-direction: column;
}

@media (max-width: 768px) {
  .swipeable-card-content {
    min-height: 160px;
  }
  
  .swipeable-card {
    min-height: clamp(300px, 35vh, 380px);
    aspect-ratio: 16/10;
  }
  
  .swipeable-card-header {
    padding: 0.75rem;
    min-height: 45px;
  }
}

/* Removed swipeable-item-container and swipeable-item classes - now handled inline */

.swipeable-card-dots {
  @apply flex justify-center gap-1 p-2 flex-shrink-0;
}

.swipe-dot {
  @apply w-2 h-2 rounded-full transition-colors duration-200;
  background-color: #2C2F4A;
}

.swipe-dot.active {
  background-color: #1E90FF;
}

.swipe-button {
  @apply p-1 rounded transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  background-color: rgba(46, 47, 64, 0.5);
  color: #CCCCCC;
}

.swipe-button:hover {
  background-color: rgba(58, 60, 85, 0.5);
  color: #FFFFFF;
}

.swipe-button:disabled:hover {
  background-color: rgba(46, 47, 64, 0.5);
  color: #CCCCCC;
}

/* Homepage card grid for swipeable cards */
.swipeable-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, 200mm);
  gap: 1rem;
  justify-content: center;
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
  padding: 0 1rem;
}

/* Improved text clamping for consistent card heights */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Enhanced hover effect for news cards */
.swipeable-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  border-color: rgba(59, 130, 246, 0.5);
}

@media (max-width: 768px) {
  .swipeable-grid {
    grid-template-columns: 1fr;
    justify-items: center;
  }
}

/* Legacy grid class - use responsive-grid-2 instead */
.swipeable-grid-2col {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
  gap: clamp(0.75rem, 2.5vw, 1.5rem);
  width: 100%;
  max-width: 100%;
}

/* Text truncation utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Final responsive enhancements */
.responsive-image {
  width: 100%;
  height: auto;
  max-width: 100%;
  object-fit: contain;
}

.responsive-video {
  width: 100%;
  height: auto;
  max-width: 100%;
  aspect-ratio: 16/9;
}

/* Prevent layout shift on load */
.prevent-layout-shift {
  min-height: 1px;
  min-width: 1px;
}

/* Better responsive breakpoints for very small screens */
@media (max-width: 320px) {
  .container,
  .container-sm,
  .container-md,
  .container-lg,
  .container-xl {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
  
  .battle64-mascot {
    height: clamp(6rem, 20vw, 8rem);
    max-width: 95vw;
  }
}

/* Ultra-wide screen optimizations */
@media (min-width: 1920px) {
  .container,
  .container-xl {
    max-width: 1400px;
  }
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-4 {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Book Page Turning Effect */
.book-container {
  position: relative;
  perspective: 1000px;
}

.book-page-flip-left {
  transform: rotateY(180deg);
  backface-visibility: hidden;
}

.book-page-flip-right {
  transform: rotateY(-180deg);
  backface-visibility: hidden;
}

/* Add shadow effects for more realistic book page turning */
.book-page-flip-left::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to left, 
    rgba(0, 0, 0, 0.1) 0%, 
    rgba(0, 0, 0, 0.05) 50%, 
    rgba(0, 0, 0, 0) 100%
  );
  z-index: 1;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

.book-page-flip-right::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to right, 
    rgba(0, 0, 0, 0.1) 0%, 
    rgba(0, 0, 0, 0.05) 50%, 
    rgba(0, 0, 0, 0) 100%
  );
  z-index: 1;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

/* Show shadow during flip */
.book-page-flip-left::before,
.book-page-flip-right::before {
  opacity: 1;
}

/* Smooth transition for the 3D effect */
.book-container > div {
  transition: transform 0.3s ease-in-out;
}

/* Ensure proper stacking and positioning */
.book-container .swipeable-card {
  position: relative;
  backface-visibility: hidden;
  will-change: transform;
}

/* Accessibility improvements for screen readers */
.leaderboard-time,
.leaderboard-time-compact {
  /* Ensure screen readers can properly announce times */
  speak: literal-punctuation;
}

/* Screen reader only text for time context */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus styles for keyboard navigation on leaderboard entries */
.leaderboard-entry:focus-within {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .leaderboard-time,
  .leaderboard-time-compact {
    font-weight: 700;
    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.8);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .leaderboard-entry {
    transition: none;
  }
  
  .leaderboard-entry:hover {
    transform: none;
  }
}

/* Battle64 Branding Styles - N64 Inspired */
.battle64-title {
  /* Enhanced N64-inspired gradient with more vibrant colors */
  background: linear-gradient(
    135deg, 
    #FF6B35 0%,     /* N64 Orange */
    #F7931E 15%,    /* Bright Orange */
    #FFD700 30%,    /* Gold */
    #4A90E2 45%,    /* N64 Blue */
    #7B68EE 60%,    /* Medium Slate Blue */
    #9370DB 75%,    /* Medium Purple */
    #FF6B9D 90%,    /* Pink accent */
    #FF6B35 100%    /* Back to orange for smooth loop */
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  letter-spacing: -0.03em;
  
  /* Enhanced multi-layer shadow for depth */
  text-shadow: 
    1px 1px 0px rgba(255, 107, 53, 0.8),    /* Orange shadow */
    2px 2px 0px rgba(247, 147, 30, 0.6),    /* Bright orange */
    3px 3px 0px rgba(255, 215, 0, 0.4),     /* Gold */
    4px 4px 0px rgba(74, 144, 226, 0.3),    /* Blue */
    5px 5px 0px rgba(123, 104, 238, 0.2),   /* Medium slate blue */
    6px 6px 0px rgba(147, 112, 219, 0.15),  /* Medium purple */
    7px 7px 0px rgba(255, 107, 157, 0.1),   /* Pink */
    8px 8px 12px rgba(0, 0, 0, 0.4);        /* Deep shadow for depth */
  
  position: relative;
  display: inline-block;
  
  /* Subtle animation for the gradient */
  animation: battle64-gradient 6s ease-in-out infinite;
  
  /* Add a subtle glow */
  filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.3));
  
  /* Ensure proper alignment with mascot */
  line-height: 1;
  align-self: center;
}

/* Animated gradient background */
@keyframes battle64-gradient {
  0%, 100% { 
    background-position: 0% 50%; 
    filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.3));
  }
  25% { 
    background-position: 50% 0%; 
    filter: drop-shadow(0 0 12px rgba(255, 215, 0, 0.4));
  }
  50% { 
    background-position: 100% 50%; 
    filter: drop-shadow(0 0 10px rgba(74, 144, 226, 0.4));
  }
  75% { 
    background-position: 50% 100%; 
    filter: drop-shadow(0 0 12px rgba(147, 112, 219, 0.4));
  }
}

.battle64-title::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg, 
    #FF6B35 0%, #F7931E 15%, #FFD700 30%, #4A90E2 45%, 
    #7B68EE 60%, #9370DB 75%, #FF6B9D 90%, #FF6B35 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: blur(1.5px);
  opacity: 0.7;
  z-index: -1;
  animation: battle64-gradient 6s ease-in-out infinite reverse;
}

/* Enhanced N64-inspired glow effect */
.battle64-title::after {
  content: 'Battle64';
  position: absolute;
  top: 0;
  left: 0;
  background: linear-gradient(
    135deg, 
    #FF6B35 0%, #F7931E 15%, #FFD700 30%, #4A90E2 45%, 
    #7B68EE 60%, #9370DB 75%, #FF6B9D 90%, #FF6B35 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: blur(3px);
  opacity: 0.4;
  z-index: -2;
  animation: battle64-gradient 8s ease-in-out infinite;
}

/* Responsive adjustments - Mobile First */
@media (max-width: 640px) {
  .battle64-title {
    /* Reduced shadow complexity for mobile performance */
    text-shadow: 
      1px 1px 0px rgba(255, 107, 53, 0.7),
      2px 2px 0px rgba(247, 147, 30, 0.5),
      3px 3px 0px rgba(255, 215, 0, 0.3),
      4px 4px 0px rgba(74, 144, 226, 0.2),
      5px 5px 8px rgba(0, 0, 0, 0.3);
    
    letter-spacing: -0.02em;
    filter: drop-shadow(0 0 6px rgba(255, 107, 53, 0.25));
  }
}

@media (min-width: 641px) and (max-width: 768px) {
  .battle64-title {
    /* Tablet optimization */
    text-shadow: 
      1px 1px 0px rgba(255, 107, 53, 0.8),
      2px 2px 0px rgba(247, 147, 30, 0.6),
      3px 3px 0px rgba(255, 215, 0, 0.4),
      4px 4px 0px rgba(74, 144, 226, 0.3),
      5px 5px 0px rgba(123, 104, 238, 0.2),
      6px 6px 10px rgba(0, 0, 0, 0.35);
  }
}

/* Hover effect for interactive enhancement */
.battle64-title:hover {
  animation: battle64-pulse 1.5s ease-in-out infinite, battle64-gradient 6s ease-in-out infinite;
  transform: scale(1.02);
  transition: transform 0.3s ease;
}

/* Enhanced pulse animation */
@keyframes battle64-pulse {
  0%, 100% { 
    filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.3)) brightness(1) saturate(1); 
  }
  50% { 
    filter: drop-shadow(0 0 16px rgba(255, 215, 0, 0.5)) brightness(1.15) saturate(1.3); 
  }
}

/* Responsive header container */
.battle64-header-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(0.5rem, 2vw, 1.5rem);
  flex-wrap: wrap;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
}

/* Fully responsive mascot image */
.battle64-mascot {
  flex-shrink: 0;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
  transition: transform 0.3s ease;
  object-fit: contain;
  width: auto;
  height: clamp(8rem, 15vw, 20rem);
  max-width: min(90vw, 400px);
  transform: scaleX(1.2);
}

.battle64-mascot:hover {
  transform: scaleX(1.25) scaleY(1.03) rotate(0.5deg);
}


/* Special rules for the retro page - consistent with main mascot */
.retro-page .battle64-mascot {
  height: clamp(8rem, 15vw, 20rem);
  max-width: min(90vw, 400px);
}

/* Welcome text styling - fully responsive */
.battle64-welcome-text {
  color: rgba(148, 163, 184, 0.9);
  font-size: clamp(0.875rem, 2vw, 1.125rem);
  line-height: clamp(1.25rem, 2.5vw, 1.75rem);
  margin-top: clamp(0.5rem, 1vw, 0.75rem);
  text-align: center;
  font-weight: 400;
  letter-spacing: 0.025em;
  max-width: 100%;
  word-wrap: break-word;
}

/* Chat Responsiveness Fixes */
.chatWrapper {
  max-width: 100%;
  overflow-x: hidden;
  padding: 1rem;
  box-sizing: border-box;
}